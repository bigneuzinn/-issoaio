<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>CPF</h1>
<div class="quadrado"></div>
    <div class="borda"></div>
        <div class="center"></div>
    <div id="imagem"></div>
    <div id="nome"></div>
    <div id="sobrenome"></div>
    <div id="cidade"></div>
    <div id="pais"></div>

    <input type="number" id="valor" placeholder="Digite o CPF">
    <div id="erro"></div>
    <center>
    <button style="background-color:rgb(241, 238, 186);" onclick="buscar()">Buscar</button>
    </center>
    <script >
        //Função para consumir API
function buscar() {
    //carrega o JSON e processa os dados
    fetch('dados.json').then(resposta => resposta.json()).then(corpo => {
        var identificador = document.getElementById('valor').value;
        var encontrado = false;

        corpo.forEach(pessoa => {

        if (identificador == pessoa.cpf) {
            //JQUERY
            var link1 = `<a href="${pessoa.link}">Visite nosso site</a>`
            document.getElementById('nome').innerHTML = pessoa.nome;
            document.getElementById('sobrenome').innerHTML = pessoa.sobrenome;
            document.getElementById('cidade').innerHTML = pessoa.cidade;
            document.getElementById('pais').innerHTML = pessoa.pais;
            document.getElementById('imagem').innerHTML = pessoa.imagem;
            document.getElementById('link').innerHTML = link1;
            document.getElementById('erro').innerHTML = "";
            encontrado = true;
        }
            
    })
    if (!encontrado) {
        document.getElementById('erro').innerHTML = "Registro inválido";
    }
    console.log(corpo)

  })
}

// var identificador = document.getElementById('valor').value;
// //Link com JQUERY
// var link1 = `<a href="${dados1.link}">Visite nosso site</a>`;
    </script>

    <style>
       body{
        position: absolute;
        left: 75%;
        top: 10%;
        background: url(img/allianz.jpg);
        background-repeat: no-repeat;
        background-size: cover;
       }

       .quadrado{
        background-color: aquamarine;
       }
       .borda{
        font-size: 22px;
        color: black;
        border: 2px solid rgb(243, 232, 232);
        padding: 20px;
       }
</style>
    
</body>
</html>